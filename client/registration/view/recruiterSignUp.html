<script src="js/Dropbox-sdk.js"></script>

<form class="row" id="recruiterSignUp" name="recruiterSignUp" novalidate>
    <!-- select to Create/Join Company -->
    <div class=" recruiter-signUp-titel">
        <!-- <h4><strong>Would you like to:</strong></h4> -->
        <label>Create New Company</label>
        <input
            type="radio"
            value = "New"
            ng-model="vm.companySignUp"
            ng-change="vm.changeRegistrationType()">
            &nbsp;&nbsp;&nbsp;
            <label><strong>Join Existing Company</strong></label>
        <input
            type="radio"
            value = "Join"
            ng-model="vm.companySignUp"
            ng-change="vm.changeRegistrationType()">
    </div>
    <!-- The signUp information Header -->
    <div class="row">
        <div class="col-md-0-6"></div>
        <div class="col-md-11">
            <div class="process">
                <div class="process-row nav nav-tabs">
                    <!-- Company Tab -->
                    <div class="process-step">
                        <button type="button" class="btn-info btn-circle-tab" data-toggle="tab" href="#menu1"><i class="fa fa-building fa-3x"></i></button>
                        <p>Company</p>
                    </div>
                    <!-- Admin Tab -->
                    <div class="process-step" ng-show="vm.companySignUp === 'New'">
                        <button  type="button" class="btn-default btn-circle-tab" data-toggle="tab" href="#menu2"><i class="fa fa-user-plus fa-3x"></i></button>
                        <p>Admin</p>
                    </div>
                    <!-- User Tab -->
                    <div class="process-step" ng-show="vm.companySignUp === 'Join'">
                        <button type="button" class="btn-default btn-circle-tab" data-toggle="tab" href="#menu3"><i class="fa fa-user fa-3x"></i></button>
                        <p>User</p>
                    </div>
                    <!-- Users Tab -->
                    <div class="process-step" ng-show="vm.companySignUp === 'New'">
                        <button type="button" class="btn-default btn-circle-tab" data-toggle="tab" href="#menu4"><i class="fa fa-users fa-3x"></i></button>
                        <p>Users</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-0-6"></div>
    </div> 
    <!-- The signUp tabs' content -->
    <div class="row">
        <div class="col-md-0-6"></div>
        <div class="col-md-11">
            <div class="tab-content">
                <!-- Company Tab -->
                <div id="menu1" class="tab-pane fade active in">
                    <div class="row">
                        <div class="col-md-12">
                            <h4 class="sectionHeader"><strong><span class="fa fa-building fa-1x"></span>&nbsp;Company Profile</strong></h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <!-- Company Name -->
                            <div class="form-group">
                                <label for="inputRecruiterName" class="required">Company Name</label>
                                <input  type="text" 
                                        ng-model="vm.newRecruiterRegister.profile.companyName" 
                                        ng-blur="vm.checkCompany(vm.newRecruiterRegister.profile.companyName)"
                                        ng-disabled="vm.companySignUp === 'N/A'" 
                                        name="company"
                                        class="form-control " 
                                        placeholder="" 
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.company.$error.required">Comapny Name is required</span>
                            </div>
                            <!-- Company Code -->
                            <div class="form-group">
                                <label for="inputRecruiterName" class="required">Company Code</label>
                                <div>
                                    <div class="row" ng-show="vm.companySignUp !== 'Join'">
                                        <input  type="text"
                                                ng-model="vm.newRecruiterRegister.profile.companyPassword"
                                                ng-disabled="vm.companySignUp === 'N/A'"
                                                name="code"
                                                class="form-control"
                                                placeholder="Company ref ID"
                                                required/>
                                    </div>
                                    <div class="row" ng-show="vm.companySignUp === 'Join'">
                                        <input  type="text"
                                                ng-model="vm.newRecruiterRegister.profile.companyPassword"
                                                ng-disabled="vm.companySignUp === 'N/A'"
                                                name="code"
                                                class="form-control company-code-field"
                                                placeholder="Company ref ID"
                                                required/>
                                        <button ng-if="vm.companySignUp === 'Join'" ng-click="vm.checkCompanyPassword(vm.newRecruiterRegister.profile.companyPassword,vm.newRecruiterRegister.profile.companyName)" class="btn btn-sm btn-info company-code-button" type="button">Confirm</button>
                                    </div>
                                </div>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.code.$error.required">Comapny Code is required</span>
                            </div>
                            <!-- Web Site -->
                            <div class="form-group">
                                <label for="inputRecruiterName" class="required">Web Site</label>
                                <input  ng-disabled="vm.companySignUp === 'Join' || vm.companySignUp === 'N/A'"
                                        type="text"
                                        ng-model="vm.newRecruiterRegister.profile.compURL"
                                        ng-blur="vm.checkUrl(vm.newRecruiterRegister.profile.compURL)"
                                        class="form-control "
                                        placeholder=""
                                        name="compURL"
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.compURL.$error.required">Web Site is required</span>
                            </div>
                            <!-- LinkedIn Company ID -->
                            <div class="form-group">
                                <label for="inputRecruiterName">LinkedIn ID</label>
                                <input  ng-disabled="vm.companySignUp === 'Join' || vm.companySignUp === 'N/A'"
                                        type="text"
                                        ng-model="vm.newRecruiterRegister.profile.linkedInId"
                                        class="form-control "
                                        placeholder="LinkedIn Company ID">
                            </div>
                        </div>
                        <div class="col-md-1"></div>
                        <div class="col-md-0-6"></div>
                        <div class="col-md-3">
                            <!-- Category -->
                            <div class="form-group">
                                <label for="inputRecruiterName">Category</label>
                                <input  ng-disabled="vm.companySignUp === 'Join' || vm.companySignUp === 'N/A'"
                                        type="text"
                                        ng-model="vm.newRecruiterRegister.profile.category"
                                        class="form-control "
                                        placeholder="Industry category"/>
                            </div>
                            <!-- Sub Category -->
                            <div class="form-group">
                                <label for="inputRecruiterName">Sub Category</label>
                                <input ng-disabled="vm.companySignUp === 'Join' || vm.companySignUp === 'N/A'"
                                        type="text"
                                        ng-model="vm.newRecruiterRegister.profile.subCategory"
                                        class="form-control "
                                        placeholder="Industry sub-category">
                            </div>
                            <!-- Size -->
                            <div class="form-group">
                                <label for="inputRecruiterSize">Size</label>
                                <select ng-disabled="vm.companySignUp === 'Join' || vm.companySignUp === 'N/A'"
                                        ng-model="vm.newRecruiterRegister.profile.size"
                                        class="form-control ">
                                    <option></option>
                                    <option>1-10</option>
                                    <option>11-30</option>
                                    <option>31-100</option>
                                    <option>101-500</option>
                                    <option>500 +</option>
                                </select>
                            </div>
                            <!-- Logo -->
                            <div class="form-group">
                                <label for="inputRecruiterLogo" class="control-label">Logo</label>
                                <input ng-disabled="vm.companySignUp === 'Join' || vm.companySignUp === 'N/A'"
                                        class="form-control"
                                        type="file"
                                        onchange="loadLogo(event)">
                                <span id="uploadProgress"></span>
                                <img id="viewLogo" class="view-logo">
                            </div>
                        </div>
                        <div class="col-md-1"></div>
                        <div class="col-md-0-6"></div>
                        <div class="col-md-3">
                            <!-- Address -->
                            <div class="form-group">
                                <label for="inputRecruiterAddress">Address</label>
                                <textarea ng-disabled="vm.companySignUp === 'Join' || vm.companySignUp === 'N/A'"
                                            ng-model="vm.newRecruiterRegister.profile.address" 
                                            class="form-control "
                                            placeholder="">
                                </textarea>
                            </div>
                            <!-- Country -->
                            <div class="form-group">
                                <label for="inputRecruiterCountry" class="required">Country</label>
                                <chosen-select id="inputRecruiterCountry"
                                                ng-disabled="vm.companySignUp === 'Join' || vm.companySignUp === 'N/A'" 
                                                ng-model="vm.newRecruiterRegister.profile.country"
                                                data="vm.countries"></chosen-select>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.compURL.$error.required">Country is required</span>
                            </div>
                        </div>
                    </div>
                    <!-- Tab Fotter -->
                    <div class="sign-up-footer" ng-show="vm.companySignUp === 'New' || vm.companySignUp === 'Join'">
                        <!-- Terms -->
                        <div>
                            <input  type="checkbox" ng-model="vm.newRecruiterRegister.legal" name="legal" required>
                            <label class="checkbox-terms"><a href='#' ng-click = "vm.displayLegal('lg')">I've read and accept the terms and conditions</a></label>
                            <span class="error-msg" ng-show="!vm.newRecruiterRegister.legal && recruiterSignUp.$submitted">You must accept the terms and conditions</span>
                        </div>
                        <!-- Save form -->
                        <button type="submit" ng-click="vm.register()" class="btn btn-primary">Save & Continue</button>
                    </div>
                </div>
                <!-- User Admin Tab -->
                <div id="menu2" class="tab-pane fade">
                    <div class="row">
                        <div class="col-md-12">
                            <h4 class="sectionHeader"><strong><span class="fa fa-user-plus fa-1x"></span>&nbsp;Admin Profile</strong></h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <!-- User Name -->
                            <div class="form-group">
                                <label for="applicantName" class="required">Username</label>
                                <input type="text" 
                                        ng-model="vm.newRecruiterRegister.name"
                                        ng-blur="vm.checkUserName(vm.newRecruiterRegister.name)"
                                        name="name"
                                        class="form-control "
                                        placeholder="Login Username"
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.name.$error.required">Username is required</span>
                            </div>
                            <!-- Email -->
                            <div class="form-group">
                                <label for="applicantEmail" class="required">Email</label>
                                <input type="email"
                                        ng-model="vm.newRecruiterRegister.email"
                                        name="email"
                                        class="form-control "
                                        placeholder="your@email.addr"
                                        ng-blur="vm.checkEmail(vm.newRecruiterRegister.email)"
                                        ng-change="onEmailUpdate()"
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.email.$error.required">Email is required</span>
                                <span class="error-msg" ng-show="recruiterSignUp.email.$error.email">Invalid Email address</span>
                            </div>
                            <!-- Password -->
                            <div class="form-group">
                                <label for="applicantPass" class="required">Password</label>
                                <input type="password"
                                        name="pass1"
                                        ng-model="vm.newRecruiterRegister.pass1"
                                        class="form-control "
                                        placeholder=""
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.pass1.$error.required">Password is required</span>
                            </div>
                            <!-- Password Confirm -->
                            <div class="form-group">
                                <label for="applicantPassConf" class="required">Confirm Password</label>
                                <input type="password"
                                        name="pass2"
                                        ng-model="vm.newRecruiterRegister.pass2"
                                        class="form-control "
                                        placeholder=""
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.pass1.$error.required">Password is required</span>
                                <span class="error-msg" ng-show="vm.newRecruiterRegister.pass1 !== vm.newRecruiterRegister.pass2">Passwords do not match</span>
                            </div>
                        </div>
                        <div class="col-md-1"></div>
                        <div class="col-md-0-6"></div>
                        <div class="col-md-3">
                            <!-- First Name -->
                            <div class="form-group">
                                <label for="inputRecruiterFName" class="required">First Name</label>
                                <input type="text"
                                        ng-model="vm.newRecruiterRegister.profile.firstName"
                                        name="fName"
                                        class="form-control "
                                        placeholder=""
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.fName.$error.required">First name is required</span>
                            </div>
                            <!-- Last Name -->
                            <div class="form-group">
                                <label for="inputRecruiterLName" class="required">Last Name</label>
                                <input type="text"
                                        ng-model = "vm.newRecruiterRegister.profile.lastName"
                                        name="lName"
                                        class="form-control "
                                        placeholder=""
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.lName.$error.required">Last name is required</span>
                            </div>
                            <!-- Contact Email -->
                            <div class="form-group">
                                <label for="inputRecruiterContactEmail" class="required">Contact Email</label>
                                <input type="email"
                                        ng-model="vm.newRecruiterRegister.profile.contactEmail"
                                        name="contactEmail"
                                        class="form-control "
                                        placeholder="your@email.addr"
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.contactEmail.$error.required">Contact Email is required</span>
                                <span class="error-msg" ng-show="recruiterSignUp.contactEmail.$error.email">Invalid email format</span>
                            </div>
                            <!-- Contact Phone -->
                            <div class="form-group">
                                <label for="inputRecruiterPhone">Contact Phone</label>
                                <input type="text"
                                        ui-mask="(9?9?9?) 9?9?9?-9?9?9?-9?9?9?9?"
                                        ui-mask-placeholder
                                        ui-mask-placeholder-char="_"
                                        ng-model="vm.newRecruiterRegister.profile.phoneNumber"
                                        name="phoneNumber"
                                        class="form-control "
                                        placeholder="">
                            </div>
                        </div>
                        <div class="col-md-1"></div>
                        <div class="col-md-0-6"></div>
                        <div class="col-md-3">
                            <!-- Role -->
                            <div class="form-group">
                                <label for="inputRecruiterRole">Role</label>
                                <input type="text"
                                        ng-model="vm.newRecruiterRegister.profile.role"
                                        class="form-control "
                                        placeholder="Role in the company">
                            </div>
                            <!-- Access mode -->
                            <div class="form-group">
                                <label for="inputRecruiterAccessMode">Access Mode</label>
                                <select ng-disabled="vm.companySignUp === 'New' || vm.companySignUp === 'N/A'"
                                        ng-model="vm.newRecruiterRegister.profile.accessMode"
                                        class="form-control ">
                                    <option></option>
                                    <option>Regular</option>
                                    <option>Application</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <!-- Tab Fotter -->
                    <div class="sign-up-footer">
                        <!-- Terms -->
                        <div>
                            <input  type="checkbox" ng-model="vm.newRecruiterRegister.legal" name="legal" required>
                            <label class="checkbox-terms"><a href='#' ng-click = "vm.displayLegal('lg')">I've read and accept the terms and conditions</a></label>
                            <span class="error-msg" ng-show="!vm.newRecruiterRegister.legal && recruiterSignUp.$submitted">You must accept the terms and conditions</span>
                        </div>
                        <!-- Save form -->
                        <button type="submit" ng-click="vm.register()" class="btn btn-primary">Save & Continue</button>
                    </div>
                </div>
                <!-- User Tab -->
                <div id="menu3" class="tab-pane fade">
                    <div class="row">
                        <div class="col-md-12">
                            <h4 class="sectionHeader"><strong><span class="fa fa-user fa-1x"></span>&nbsp;User Profile</strong></h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <!-- User Name -->
                            <div class="form-group">
                                <label for="applicantName" class="required">Username</label>
                                <input type="text" 
                                        ng-model="vm.newRecruiterRegister.name"
                                        ng-blur="vm.checkUserName(vm.newRecruiterRegister.name)"
                                        name="name"
                                        class="form-control "
                                        placeholder="Login Username"
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.name.$error.required">Username is required</span>
                            </div>
                            <!-- Email -->
                            <div class="form-group">
                                <label for="applicantEmail" class="required">Email</label>
                                <input type="email"
                                        ng-model="vm.newRecruiterRegister.email"
                                        name="email"
                                        class="form-control "
                                        placeholder="your@email.addr"
                                        ng-blur="vm.checkEmail(vm.newRecruiterRegister.email)"
                                        ng-change="onEmailUpdate()"
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.email.$error.required">Email is required</span>
                                <span class="error-msg" ng-show="recruiterSignUp.email.$error.email">Invalid Email address</span>
                            </div>
                            <!-- Password -->
                            <div class="form-group">
                                <label for="applicantPass" class="required">Password</label>
                                <input type="password"
                                        name="pass1"
                                        ng-model="vm.newRecruiterRegister.pass1"
                                        class="form-control "
                                        placeholder=""
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.pass1.$error.required">Password is required</span>
                            </div>
                            <!-- Password Confirm -->
                            <div class="form-group">
                                <label for="applicantPassConf" class="required">Confirm Password</label>
                                <input type="password"
                                        name="pass2"
                                        ng-model="vm.newRecruiterRegister.pass2"
                                        class="form-control "
                                        placeholder=""
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.pass1.$error.required">Password is required</span>
                                <span class="error-msg" ng-show="vm.newRecruiterRegister.pass1 !== vm.newRecruiterRegister.pass2">Passwords do not match</span>
                            </div>
                        </div>
                        <div class="col-md-1"></div>
                        <div class="col-md-0-6"></div>
                        <div class="col-md-3">
                            <!-- First Name -->
                            <div class="form-group">
                                <label for="inputRecruiterFName" class="required">First Name</label>
                                <input type="text"
                                        ng-model="vm.newRecruiterRegister.profile.firstName"
                                        name="fName"
                                        class="form-control "
                                        placeholder=""
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.fName.$error.required">First name is required</span>
                            </div>
                            <!-- Last Name -->
                            <div class="form-group">
                                <label for="inputRecruiterLName" class="required">Last Name</label>
                                <input type="text"
                                        ng-model = "vm.newRecruiterRegister.profile.lastName"
                                        name="lName"
                                        class="form-control "
                                        placeholder=""
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.lName.$error.required">Last name is required</span>
                            </div>
                            <!-- Contact Email -->
                            <div class="form-group">
                                <label for="inputRecruiterContactEmail" class="required">Contact Email</label>
                                <input type="email"
                                        ng-model="vm.newRecruiterRegister.profile.contactEmail"
                                        name="contactEmail"
                                        class="form-control "
                                        placeholder="your@email.addr"
                                        required>
                                <span class="error-msg" ng-show="recruiterSignUp.$submitted && recruiterSignUp.contactEmail.$error.required">Contact Email is required</span>
                                <span class="error-msg" ng-show="recruiterSignUp.contactEmail.$error.email">Invalid email format</span>
                            </div>
                            <!-- Contact Phone -->
                            <div class="form-group">
                                <label for="inputRecruiterPhone">Contact Phone</label>
                                <input type="text"
                                        ui-mask="(9?9?9?) 9?9?9?-9?9?9?-9?9?9?9?"
                                        ui-mask-placeholder
                                        ui-mask-placeholder-char="_"
                                        ng-model="vm.newRecruiterRegister.profile.phoneNumber"
                                        name="phoneNumber"
                                        class="form-control "
                                        placeholder="">
                            </div>
                        </div>
                        <div class="col-md-1"></div>
                        <div class="col-md-0-6"></div>
                        <div class="col-md-3">
                            <!-- Role -->
                            <div class="form-group">
                                <label for="inputRecruiterRole">Role</label>
                                <input type="text"
                                        ng-model="vm.newRecruiterRegister.profile.role"
                                        class="form-control "
                                        placeholder="Role in the company">
                            </div>
                            <!-- Access mode -->
                            <div class="form-group">
                                <label for="inputRecruiterAccessMode">Access Mode</label>
                                <select ng-disabled="vm.companySignUp === 'New' || vm.companySignUp === 'N/A'"
                                        ng-model="vm.newRecruiterRegister.profile.accessMode"
                                        class="form-control ">
                                    <option></option>
                                    <option>Regular</option>
                                    <option>Application</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <!-- Tab Fotter -->
                    <div class="sign-up-footer">
                        <!-- Terms -->
                        <div>
                            <input  type="checkbox" ng-model="vm.newRecruiterRegister.legal" name="legal" required>
                            <label class="checkbox-terms"><a href='#' ng-click = "vm.displayLegal('lg')">I've read and accept the terms and conditions</a></label>
                            <span class="error-msg" ng-show="!vm.newRecruiterRegister.legal && recruiterSignUp.$submitted">You must accept the terms and conditions</span>
                        </div>
                        <!-- Save form -->
                        <button type="submit" ng-click="vm.register()" class="btn btn-primary">Save & Continue</button>
                    </div>
                </div>
                <!-- Users Tab -->
                <div id="menu4" class="tab-pane fade">
                    <div class="row">
                        <div class="col-md-12">
                            <h4 class="sectionHeader"><strong><span class="fa fa-users fa-1x"></span>&nbsp;Users Management</strong></h4>
                        </div>
                    </div>
                    <div class="row">
                        <h4 class="recruiter-signUp-titel">Users Management feature is comming soon...</h4>
                        <!-- <div class="col-md-5">
                        </div>  
                        <div class="col-md-2"></div>
                        <div class="col-md-5">
                        </div>-->
                    </div>
                    <!-- Tab Fotter -->
                    <!-- <div class="sign-up-footer"> -->
                        <!-- Terms -->
                        <!-- <div>
                            <input  type="checkbox" ng-model="vm.newRecruiterRegister.legal" name="legal" required>
                            <label class="checkbox-terms"><a href='#' ng-click = "vm.displayLegal('lg')">I've read and accept the terms and conditions</a></label>
                            <span class="error-msg" ng-show="!vm.newRecruiterRegister.legal && recruiterSignUp.$submitted">You must accept the terms and conditions</span>
                        </div> -->
                        <!-- Save form -->
                        <!-- <button type="submit" ng-click="vm.register()" class="btn btn-primary">Save & Continue</button>
                    </div> -->
                </div>
            </div>
        </div>
        <div class="col-md-0-6"></div>
    </div>
    <div ng-show="vm.error" class="row" >
        <p>{{ vm.error }}</p>
    </div>
</form>